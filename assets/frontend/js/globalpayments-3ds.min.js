this.GlobalPayments=this.GlobalPayments||{},this.GlobalPayments.ThreeDSecure=function(e){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var t,n,i,a,r,o,s,c,l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function u(e,t,n,i){return new(n||(n=Promise))((function(a,r){function o(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))}function d(e,t){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}function I(e){var t="";switch(e){case 1:return"ONE_BIT";case 2:t+="TWO";break;case 4:t+="FOUR";break;case 8:t+="EIGHT";break;case 15:t+="FIFTEEN";break;case 16:t+="SIXTEEN";break;case 24:case 30:t+="TWENTY_FOUR";break;case 32:t+="THIRTY_TWO";break;case 48:t+="FORTY_EIGHT";break;default:throw new Error("Unknown color depth '"+e+"'")}return t+"_BITS"}function h(t){var n=0,i=0;switch(t.size||t.windowSize){case e.ChallengeWindowSize.Windowed250x400:n=250,i=400;break;case e.ChallengeWindowSize.Windowed390x400:n=390,i=400;break;case e.ChallengeWindowSize.Windowed500x600:n=500,i=600;break;case e.ChallengeWindowSize.Windowed600x400:n=600,i=400}return{height:n,width:i}}function A(t){switch(t){case e.AuthenticationRequestType.AddCard:case e.AuthenticationRequestType.CardholderVerification:case e.AuthenticationRequestType.MaintainCard:return e.MessageCategory.NonPayment;case e.AuthenticationRequestType.InstalmentTransaction:case e.AuthenticationRequestType.PaymentTransaction:case e.AuthenticationRequestType.RecurringTransaction:default:return e.MessageCategory.Payment}}(t=e.AuthenticationSource||(e.AuthenticationSource={})).Browser="BROWSER",t.MobileSDK="MOBILE_SDK",t.StoredRecurring="STORED_RECURRING",(n=e.AuthenticationRequestType||(e.AuthenticationRequestType={})).AddCard="ADD_CARD",n.CardholderVerification="CARDHOLDER_VERIFICATION",n.InstalmentTransaction="INSTALMENT_TRANSACTION",n.MaintainCard="MAINTAIN_CARD",n.PaymentTransaction="PAYMENT_TRANSACTION",n.RecurringTransaction="RECURRING_TRANSACTION",(i=e.ChallengeRequestIndicator||(e.ChallengeRequestIndicator={})).ChallengeMandated="CHALLENGE_MANDATED",i.ChallengePreferred="CHALLENGE_PREFERRED",i.NoChallengeRequested="NO_CHALLENGE_REQUESTED",i.NoPreference="NO_PREFERENCE",(a=e.ChallengeWindowSize||(e.ChallengeWindowSize={})).FullScreen="FULL_SCREEN",a.Windowed250x400="WINDOWED_250X400",a.Windowed390x400="WINDOWED_390X400",a.Windowed500x600="WINDOWED_500X600",a.Windowed600x400="WINDOWED_600X400",(r=e.MessageCategory||(e.MessageCategory={})).NonPayment="NON_PAYMENT_AUTHENTICATION",r.Payment="PAYMENT_AUTHENTICATION",(o=e.MethodUrlCompletion||(e.MethodUrlCompletion={})).Unavailable="UNAVAILABLE",o.No="NO",o.Yes="YES",(s=e.TransactionStatus||(e.TransactionStatus={})).AuthenticationAttemptedButNotSuccessful="AUTHENTICATION_ATTEMPTED_BUT_NOT_SUCCESSFUL",s.AuthenticationCouldNotBePerformed="AUTHENTICATION_COULD_NOT_BE_PERFORMED",s.AuthenticationFailed="AUTHENTICATION_FAILED",s.AuthenticationIssuerRejected="AUTHENTICATION_ISSUER_REJECTED",s.AuthenticationSuccessful="AUTHENTICATION_SUCCESSFUL",s.ChallengeRequired="CHALLENGE_REQUIRED",(c=e.TransactionStatusReason||(e.TransactionStatusReason={})).CardAuthenticationFailed="CARD_AUTHENTICATION_FAILED",c.UnknownDevice="UNKNOWN_DEVICE",c.UnsupportedDevice="UNSUPPORTED_DEVICE",c.ExceedsAuthenticationFrequencyLimit="EXCEEDS_AUTHENTICATION_FREQUENCY_LIMIT",c.ExpiredCard="EXPIRED_CARD",c.InvalidCardNumber="INVALID_CARD_NUMBER",c.InvalidTransaction="INVALID_TRANSACTION",c.NoCardRecord="NO_CARD_RECORD",c.SecurityFailure="SECURITY_FAILURE",c.StolenCard="STOLEN_CARD",c.SuspectedFraud="SUSPECTED_FRAUD",c.TransactionNotPermittedToCardholder="TRANSACTION_NOT_PERMITTED_TO_CARDHOLDER",c.CardholderNotEnrolledInService="CARDHOLDER_NOT_ENROLLED_IN_SERVICE",c.TransactionTimedOutAtTheAcs="TRANSACTION_TIMED_OUT_AT_THE_ACS",c.LowConfidence="LOW_CONFIDENCE",c.MediumConfidence="MEDIUM_CONFIDENCE",c.HighConfidence="HIGH_CONFIDENCE",c.VeryHighConfidence="VERY_HIGH_CONFIDENCE",c.ExceedsAcsMaximumChallenges="EXCEEDS_ACS_MAXIMUM_CHALLENGES",c.NonPaymentTransactionNotSupported="NON_PAYMENT_TRANSACTION_NOT_SUPPORTED",c.ThreeriTransactionNotSupported="THREERI_TRANSACTION_NOT_SUPPORTED";var g=function(e){function t(t,n){var i=e.call(this,n||"Error: see `reasons` property")||this;return i.error=!0,i.reasons=t,i}return function(e,t){function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error);function N(e,t,n){window.parent!==window&&window.parent.postMessage({data:t,event:e},n||window.location.origin)}function y(e,t){return u(this,void 0,void 0,(function(){var n,i,a,r,o,s;return d(this,(function(c){switch(c.label){case 0:n={"Content-Type":"application/json"},c.label=1;case 1:return c.trys.push([1,6,,7]),[4,fetch(e,{body:JSON.stringify(t),credentials:"omit",headers:"undefined"!=typeof Headers?new Headers(n):n,method:"POST"})];case 2:return(i=c.sent()).ok?[3,4]:(a=g.bind,s={code:i.status.toString()},[4,i.text()]);case 3:throw new(a.apply(g,[void 0,[(s.message=c.sent(),s)],i.statusText]));case 4:return[4,i.json()];case 5:return[2,c.sent()];case 6:throw r=c.sent(),o=[{code:r.name,message:r.message}],r.reasons&&(o=o.concat(r.reasons)),new g(o);case 7:return[2]}}))}))}var M=/Windows Phone|IEMobile/.test(navigator.userAgent),m=/Android|iPad|iPhone|iPod/.test(navigator.userAgent),T=(window.innerWidth>0?window.innerWidth:screen.width)<=360||(window.innerHeight>0?window.innerHeight:screen.height)<=360,E=M||!M&&(m||T),C=Math.random().toString(16).substr(2,8);function w(t,n){var i=function(){var e=document.createElement("div");e.setAttribute("id","GlobalPayments-overlay-"+C),e.style.position="fixed",e.style.width="100%",e.style.height="100%",e.style.top="0",e.style.left="0",e.style.transition="all 0.3s ease-in-out",e.style.zIndex="100",E&&(e.style.position="absolute !important",e.style.WebkitOverflowScrolling="touch",e.style.overflowX="hidden",e.style.overflowY="scroll");return document.body.appendChild(e),setTimeout((function(){e.style.background="rgba(0, 0, 0, 0.7)"}),1),e}(),a=function(){var e=document.createElement("img");return e.setAttribute("src","data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjAiIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjAgMCAxMjggMTI4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48Zz48cGF0aCBkPSJNMzguNTIgMzMuMzdMMjEuMzYgMTYuMkE2My42IDYzLjYgMCAwIDEgNTkuNS4xNnYyNC4zYTM5LjUgMzkuNSAwIDAgMC0yMC45OCA4LjkyeiIgZmlsbD0iIzAwNzBiYSIgZmlsbC1vcGFjaXR5PSIxIi8+PHBhdGggZD0iTTM4LjUyIDMzLjM3TDIxLjM2IDE2LjJBNjMuNiA2My42IDAgMCAxIDU5LjUuMTZ2MjQuM2EzOS41IDM5LjUgMCAwIDAtMjAuOTggOC45MnoiIGZpbGw9IiNjMGRjZWUiIGZpbGwtb3BhY2l0eT0iMC4yNSIgdHJhbnNmb3JtPSJyb3RhdGUoNDUgNjQgNjQpIi8+PHBhdGggZD0iTTM4LjUyIDMzLjM3TDIxLjM2IDE2LjJBNjMuNiA2My42IDAgMCAxIDU5LjUuMTZ2MjQuM2EzOS41IDM5LjUgMCAwIDAtMjAuOTggOC45MnoiIGZpbGw9IiNjMGRjZWUiIGZpbGwtb3BhY2l0eT0iMC4yNSIgdHJhbnNmb3JtPSJyb3RhdGUoOTAgNjQgNjQpIi8+PHBhdGggZD0iTTM4LjUyIDMzLjM3TDIxLjM2IDE2LjJBNjMuNiA2My42IDAgMCAxIDU5LjUuMTZ2MjQuM2EzOS41IDM5LjUgMCAwIDAtMjAuOTggOC45MnoiIGZpbGw9IiNjMGRjZWUiIGZpbGwtb3BhY2l0eT0iMC4yNSIgdHJhbnNmb3JtPSJyb3RhdGUoMTM1IDY0IDY0KSIvPjxwYXRoIGQ9Ik0zOC41MiAzMy4zN0wyMS4zNiAxNi4yQTYzLjYgNjMuNiAwIDAgMSA1OS41LjE2djI0LjNhMzkuNSAzOS41IDAgMCAwLTIwLjk4IDguOTJ6IiBmaWxsPSIjYzBkY2VlIiBmaWxsLW9wYWNpdHk9IjAuMjUiIHRyYW5zZm9ybT0icm90YXRlKDE4MCA2NCA2NCkiLz48cGF0aCBkPSJNMzguNTIgMzMuMzdMMjEuMzYgMTYuMkE2My42IDYzLjYgMCAwIDEgNTkuNS4xNnYyNC4zYTM5LjUgMzkuNSAwIDAgMC0yMC45OCA4LjkyeiIgZmlsbD0iI2MwZGNlZSIgZmlsbC1vcGFjaXR5PSIwLjI1IiB0cmFuc2Zvcm09InJvdGF0ZSgyMjUgNjQgNjQpIi8+PHBhdGggZD0iTTM4LjUyIDMzLjM3TDIxLjM2IDE2LjJBNjMuNiA2My42IDAgMCAxIDU5LjUuMTZ2MjQuM2EzOS41IDM5LjUgMCAwIDAtMjAuOTggOC45MnoiIGZpbGw9IiNjMGRjZWUiIGZpbGwtb3BhY2l0eT0iMC4yNSIgdHJhbnNmb3JtPSJyb3RhdGUoMjcwIDY0IDY0KSIvPjxwYXRoIGQ9Ik0zOC41MiAzMy4zN0wyMS4zNiAxNi4yQTYzLjYgNjMuNiAwIDAgMSA1OS41LjE2djI0LjNhMzkuNSAzOS41IDAgMCAwLTIwLjk4IDguOTJ6IiBmaWxsPSIjYzBkY2VlIiBmaWxsLW9wYWNpdHk9IjAuMjUiIHRyYW5zZm9ybT0icm90YXRlKDMxNSA2NCA2NCkiLz48YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgdmFsdWVzPSIwIDY0IDY0OzQ1IDY0IDY0OzkwIDY0IDY0OzEzNSA2NCA2NDsxODAgNjQgNjQ7MjI1IDY0IDY0OzI3MCA2NCA2NDszMTUgNjQgNjQiIGNhbGNNb2RlPSJkaXNjcmV0ZSIgZHVyPSIxMjgwbXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGVUcmFuc2Zvcm0+PC9nPjwvc3ZnPg=="),e.setAttribute("id","GlobalPayments-loader-"+C),e.style.left="50%",e.style.position="fixed",e.style.background="#FFFFFF",e.style.borderRadius="50%",e.style.width="30px",e.style.zIndex="200",e.style.marginLeft="-15px",e.style.top="120px",e}();document.body.appendChild(a);var r=h(n),o=r.height,s=r.width;if(o&&t.setAttribute("height",o+"px"),t.setAttribute("frameBorder","0"),s&&t.setAttribute("width",s+"px"),t.setAttribute("seamless","seamless"),t.style.zIndex="10001",t.style.position="absolute",t.style.transition="transform 0.5s ease-in-out",t.style.transform="scale(0.7)",t.style.opacity="0",i.appendChild(t),E||n.windowSize===e.ChallengeWindowSize.FullScreen){t.style.top="0px",t.style.bottom="0px",t.style.left="0px",t.style.marginLeft="0px;",t.style.width="100%",t.style.height="100%",t.style.minHeight="100%",t.style.WebkitTransform="translate3d(0,0,0)",t.style.transform="translate3d(0, 0, 0)";var c=document.createElement("meta");c.name="viewport",c.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0",document.getElementsByTagName("head")[0].appendChild(c)}else t.style.top="40px",t.style.left="50%",t.style.marginLeft="-"+s/2+"px";t.onload=function(t,n,i,a){return function(){var r;t.style.opacity="1",t.style.transform="scale(1)",t.style.backgroundColor="#ffffff",n.parentNode&&n.parentNode.removeChild(n),(r=function(t){if(null!==document.getElementById("GlobalPayments-frame-close-"+C))return;var n=document.createElement("img");n.id="GlobalPayments-frame-close-"+C,n.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUJFRjU1MEIzMUQ3MTFFNThGQjNERjg2NEZCRjFDOTUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUJFRjU1MEMzMUQ3MTFFNThGQjNERjg2NEZCRjFDOTUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQkVGNTUwOTMxRDcxMUU1OEZCM0RGODY0RkJGMUM5NSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQkVGNTUwQTMxRDcxMUU1OEZCM0RGODY0RkJGMUM5NSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlHco5QAAAHpSURBVHjafFRdTsJAEF42JaTKn4glGIg++qgX4AAchHAJkiZcwnAQD8AF4NFHCaC2VgWkIQQsfl/jNJUik8Duzs/XmW9mN7Xb7VRc5vP5zWKxaK5Wq8Zmu72FqobfJG0YQ9M0+/l8/qFQKDzGY1JxENd1288vLy1s786KRZXJZCLber1Wn7MZt4PLarVnWdZ9AmQ8Hncc17UvymVdBMB/MgPQm+cFFcuy6/V6lzqDf57ntWGwYdBIVx0TfkBD6I9M35iRJgfIoAVjBLDZbA4CiJ5+9AdQi/EahibqDTkQx6fRSIHcPwA8Uy9A9Gcc47Xv+w2wzhRDYzqdVihLIbsIiCvP1NNOoX/29FQx3vgOgtt4FyRdCgPRarX4+goB9vkyAMh443cOEsIAAcjncuoI4TXWMAmCIGFhCQLAdZ8jym/cRJ+Y5nC5XCYAhINKpZLgSISZgoqh5iiLQrojAFICVwGS7tCfe5DbZzkP56XS4NVxwvTI/vXVVYIDnqmnnX70ZxzjNS8THHooK5hMpxHQIREA+tEfA9djfHR3MHkdx3Hspe9r3B+VzWaj2RESyR2mlCUE4MoGQDdxiwHURq2t94+PO9bMIYyTyDNLwMoM7g8+BfKeYGniyw2MdfSehF3Qmk1IvCc/AgwAaS86Etp38bUAAAAASUVORK5CYII=",n.style.transition="all 0.5s ease-in-out",n.style.opacity="0",n.style.float="left",n.style.position="absolute",n.style.left="50%",n.style.zIndex="99999999",n.style.top="30px";var i=h(t).width;i&&(n.style.marginLeft=i/2-8+"px");setTimeout((function(){n.style.opacity="1"}),500),(E||t.windowSize===e.ChallengeWindowSize.FullScreen)&&(n.style.float="right",n.style.top="20px",n.style.left="initial",n.style.marginLeft="0px",n.style.right="20px");return n}(a))&&(i.appendChild(r),r.addEventListener("click",(function(){r&&Array.prototype.slice.call(document.querySelectorAll('[target$="-'+C+'"],[id$="-'+C+'"]')).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}),!0))}}(t,a,i,n)}function b(e,t,n){return new Promise((function(i,a){var r;n.timeout&&(r=setTimeout((function(){p(r),a(new Error("timeout reached"))}),n.timeout));var o=document.createElement("iframe");o.id=o.name="GlobalPayments-3DSecure-"+C,o.style.display=n.hide?"none":"inherit";var s=function(e,t,n){var i=document.createElement("form");i.setAttribute("method","POST"),i.setAttribute("action",e),i.setAttribute("target",t);for(var a=0,r=n;a<r.length;a++){var o=r[a],s=document.createElement("input");s.setAttribute("type","hidden"),s.setAttribute("name",o.name),s.setAttribute("value",o.value),i.appendChild(s)}return i}(e,o.id,t);switch(n.displayMode){case"redirect":return p(r),void a(new Error("Not implemented"));case"lightbox":w(o,n);break;case"embedded":default:if(!function(e,t,n){var i;i=n.hide?document.body:"string"==typeof n.target?document.querySelector(n.target):n.target;if(!i)return p(t.timeout||0),e(new Error("Embed target not found")),!1;var a=h(n),r=a.height,o=a.width;t.iframe&&(t.iframe.setAttribute("height",r?r+"px":"100%"),t.iframe.setAttribute("width",o?o+"px":"100%"),i.appendChild(t.iframe));return!0}(a,{iframe:o,timeout:r},n))return}window.addEventListener("message",function(e,t){return function(n){(t.origin||window.location.origin)===n.origin&&(p(t.timeout||0),e(n.data))}}(i,{origin:n.origin,timeout:r})),document.body.appendChild(s),s.submit()}))}function p(e){e&&clearTimeout(e);try{Array.prototype.slice.call(document.querySelectorAll('[target$="-'+C+'"],[id$="-'+C+'"]')).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}catch(e){}}function D(){var e=new Date;return{colorDepth:screen&&I(screen.colorDepth),javaEnabled:navigator&&navigator.javaEnabled(),javascriptEnabled:!0,language:navigator&&navigator.language,screenHeight:screen&&screen.height,screenWidth:screen&&screen.width,time:e,timezoneOffset:e.getTimezoneOffset()/60,userAgent:navigator&&navigator.userAgent}}function R(e,t){return u(this,void 0,void 0,(function(){return d(this,(function(n){switch(n.label){case 0:if(!e.enrolled)throw new Error("Card not enrolled");return(t=t||{}).hide=void 0===t.hide||t.hide,t.timeout=void 0===t.timeout?3e4:t.timeout,e.methodUrl?[4,b(e.methodUrl,[{name:"threeDSMethodData",value:e.methodData}],t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2,e]}}))}))}function f(e,t){return u(this,void 0,void 0,(function(){var n;return d(this,(function(i){switch(i.label){case 0:if(!e.challengeMandated)return[3,2];if(e.challenge=e.challenge||{},!e.challenge.requestUrl)throw new Error("Invalid challenge state. Missing challenge URL");return[4,b(e.challenge.requestUrl,[{name:"creq",value:e.challenge.encodedChallengeRequest}],t)];case 1:n=i.sent(),e.challenge.response=n,i.label=2;case 2:return[2,e]}}))}))}return e.checkVersion=function(e,t){return u(this,void 0,void 0,(function(){var n,i;return d(this,(function(a){switch(a.label){case 0:t=t||{},a.label=1;case 1:return a.trys.push([1,4,,5]),[4,y(e,t)];case 2:return[4,R(a.sent(),t.methodWindow)];case 3:return[2,a.sent()];case 4:throw n=a.sent(),i=[{code:n.name,message:n.message}],n.reasons&&(i=i.concat(n.reasons)),new g(i);case 5:return[2]}}))}))},e.colorDepth=I,e.dimensionsFromChallengeWindowSize=h,e.getBrowserData=D,e.handle3dsVersionCheck=R,e.handleChallengeNotification=function(e,t){N("challengeNotification",e,t)},e.handleInitiateAuthentication=f,e.handleMethodNotification=function(e,t){N("methodNotification",e,t)},e.initiateAuthentication=function(t,n){return u(this,void 0,void 0,(function(){var i,a;return d(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),n.authenticationSource=n.authenticationSource||e.AuthenticationSource.Browser,n.authenticationRequestType=n.authenticationRequestType||e.AuthenticationRequestType.PaymentTransaction,n.messageCategory=n.messageCategory||A(n.authenticationRequestType),n.challengeRequestIndicator=n.challengeRequestIndicator||e.ChallengeRequestIndicator.NoPreference,n.browserData=n.browserData||D(),[4,y(t,n)];case 1:return[4,f(r.sent(),n.challengeWindow)];case 2:return[2,r.sent()];case 3:throw i=r.sent(),a=[{code:i.name,message:i.message}],i.reasons&&(a=a.concat(i.reasons)),new g(a);case 4:return[2]}}))}))},e.messageCategoryFromAuthenticationRequestType=A,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
//# sourceMappingURL=globalpayments-3ds.min.js.map
